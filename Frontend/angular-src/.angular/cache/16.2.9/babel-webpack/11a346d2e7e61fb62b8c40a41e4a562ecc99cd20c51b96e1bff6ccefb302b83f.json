{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.username = '';\n    this.password = '';\n  }\n  onLoginSubmit() {\n    const user = {\n      username: this.username,\n      password: this.password\n    };\n    this.authService.authenticateUser(user).subscribe(data => {\n      this.authService.storeToken(data.token);\n      alert('You are now logged in!');\n      this.router.navigate(['/dashboard']);\n    }, error => {\n      alert('Error logging in ');\n      alert(error.message);\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 12,\n    vars: 2,\n    consts: [[1, \"page-header\"], [3, \"submit\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Login\", 1, \"btn\", \"btn-primary\", \"button-space\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"form\", 1);\n        i0.ɵɵlistener(\"submit\", function LoginComponent_Template_form_submit_2_listener() {\n          return ctx.onLoginSubmit();\n        });\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\");\n        i0.ɵɵtext(5, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.username = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 2)(8, \"label\");\n        i0.ɵɵtext(9, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(11, \"input\", 5);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.username);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n    styles: [\".button-space[_ngcontent-%COMP%] {\\n    margin-top: 20px; \\n\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCLEVBQUUsd0NBQXdDO0VBQzVEIiwic291cmNlc0NvbnRlbnQiOlsiLmJ1dHRvbi1zcGFjZSB7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4OyAvKiBZb3UgY2FuIGFkanVzdCB0aGUgbWFyZ2luIGFzIG5lZWRlZCAqL1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["LoginComponent","constructor","authService","router","username","password","onLoginSubmit","user","authenticateUser","subscribe","data","storeToken","token","alert","navigate","error","message","_","i0","ɵɵdirectiveInject","i1","AuthService","i2","Router","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_form_submit_2_listener","LoginComponent_Template_input_ngModelChange_6_listener","$event","LoginComponent_Template_input_ngModelChange_10_listener","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Montg\\Documents\\Final Year\\APDS\\POE\\Frontend\\angular-src\\src\\app\\components\\login\\login.component.ts","C:\\Users\\Montg\\Documents\\Final Year\\APDS\\POE\\Frontend\\angular-src\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\nusername: String='';\npassword: String='';\n\nconstructor(private authService: AuthService,private router:Router)\n{\n\n}\nonLoginSubmit()\n{\n  const user = {\n    username: this.username,\n    password: this.password\n  }\n  this.authService.authenticateUser(user).subscribe(\n    (data: any) => {\n      this.authService.storeToken(data.token);\n      alert('You are now logged in!');\n      this.router.navigate(['/dashboard']);\n    },\n    (error) => {\n      alert('Error logging in ');\n      alert(error.message)\n    }\n  );\n  \n}\n}\n","<h2 class=\"page-header\">Login</h2>\n<form (submit)=\"onLoginSubmit()\">\n    <div class=\"form-group\">\n        <label>Username</label>\n        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"username\" name=\"username\">\n    </div>\n    <div class=\"form-group\">\n        <label>Password</label>\n        <input type=\"password\" class=\"form-control\" [(ngModel)]=\"password\" name=\"password\">\n    </div>\n    <input type=\"submit\" class=\"btn btn-primary button-space\" value=\"Login\">\n</form>"],"mappings":";;;;AASA,OAAM,MAAOA,cAAc;EAI3BC,YAAoBC,WAAwB,EAASC,MAAa;IAA9C,KAAAD,WAAW,GAAXA,WAAW;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAH3D,KAAAC,QAAQ,GAAS,EAAE;IACnB,KAAAC,QAAQ,GAAS,EAAE;EAKnB;EACAC,aAAaA,CAAA;IAEX,MAAMC,IAAI,GAAG;MACXH,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,QAAQ,EAAE,IAAI,CAACA;KAChB;IACD,IAAI,CAACH,WAAW,CAACM,gBAAgB,CAACD,IAAI,CAAC,CAACE,SAAS,CAC9CC,IAAS,IAAI;MACZ,IAAI,CAACR,WAAW,CAACS,UAAU,CAACD,IAAI,CAACE,KAAK,CAAC;MACvCC,KAAK,CAAC,wBAAwB,CAAC;MAC/B,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC,EACAC,KAAK,IAAI;MACRF,KAAK,CAAC,mBAAmB,CAAC;MAC1BA,KAAK,CAACE,KAAK,CAACC,OAAO,CAAC;IACtB,CAAC,CACF;EAEH;EAAC,QAAAC,CAAA,G;qBA1BYjB,cAAc,EAAAkB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAdxB,cAAc;IAAAyB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCT3Bb,EAAA,CAAAe,cAAA,YAAwB;QAAAf,EAAA,CAAAgB,MAAA,YAAK;QAAAhB,EAAA,CAAAiB,YAAA,EAAK;QAClCjB,EAAA,CAAAe,cAAA,cAAiC;QAA3Bf,EAAA,CAAAkB,UAAA,oBAAAC,+CAAA;UAAA,OAAUL,GAAA,CAAA1B,aAAA,EAAe;QAAA,EAAC;QAC5BY,EAAA,CAAAe,cAAA,aAAwB;QACbf,EAAA,CAAAgB,MAAA,eAAQ;QAAAhB,EAAA,CAAAiB,YAAA,EAAQ;QACvBjB,EAAA,CAAAe,cAAA,eAA+E;QAAvCf,EAAA,CAAAkB,UAAA,2BAAAE,uDAAAC,MAAA;UAAA,OAAAP,GAAA,CAAA5B,QAAA,GAAAmC,MAAA;QAAA,EAAsB;QAA9DrB,EAAA,CAAAiB,YAAA,EAA+E;QAEnFjB,EAAA,CAAAe,cAAA,aAAwB;QACbf,EAAA,CAAAgB,MAAA,eAAQ;QAAAhB,EAAA,CAAAiB,YAAA,EAAQ;QACvBjB,EAAA,CAAAe,cAAA,gBAAmF;QAAvCf,EAAA,CAAAkB,UAAA,2BAAAI,wDAAAD,MAAA;UAAA,OAAAP,GAAA,CAAA3B,QAAA,GAAAkC,MAAA;QAAA,EAAsB;QAAlErB,EAAA,CAAAiB,YAAA,EAAmF;QAEvFjB,EAAA,CAAAuB,SAAA,gBAAwE;QAC5EvB,EAAA,CAAAiB,YAAA,EAAO;;;QAPyCjB,EAAA,CAAAwB,SAAA,GAAsB;QAAtBxB,EAAA,CAAAyB,UAAA,YAAAX,GAAA,CAAA5B,QAAA,CAAsB;QAIlBc,EAAA,CAAAwB,SAAA,GAAsB;QAAtBxB,EAAA,CAAAyB,UAAA,YAAAX,GAAA,CAAA3B,QAAA,CAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}