{"ast":null,"code":"\"use strict\";\n\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n  var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n  if (destination.closed) {\n    return null;\n  }\n  if (result instanceof Observable_1.Observable) {\n    if (result._isScalar) {\n      destination.next(result.value);\n      destination.complete();\n      return null;\n    } else {\n      destination.syncErrorThrowable = true;\n      return result.subscribe(destination);\n    }\n  } else if (isArrayLike_1.isArrayLike(result)) {\n    for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n      destination.next(result[i]);\n    }\n    if (!destination.closed) {\n      destination.complete();\n    }\n  } else if (isPromise_1.isPromise(result)) {\n    result.then(function (value) {\n      if (!destination.closed) {\n        destination.next(value);\n        destination.complete();\n      }\n    }, function (err) {\n      return destination.error(err);\n    }).then(null, function (err) {\n      // Escaping the Promise trap: globally throw unhandled errors\n      root_1.root.setTimeout(function () {\n        throw err;\n      });\n    });\n    return destination;\n  } else if (result && typeof result[iterator_1.iterator] === 'function') {\n    var iterator = result[iterator_1.iterator]();\n    do {\n      var item = iterator.next();\n      if (item.done) {\n        destination.complete();\n        break;\n      }\n      destination.next(item.value);\n      if (destination.closed) {\n        break;\n      }\n    } while (true);\n  } else if (result && typeof result[observable_1.observable] === 'function') {\n    var obs = result[observable_1.observable]();\n    if (typeof obs.subscribe !== 'function') {\n      destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n    } else {\n      return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n    }\n  } else {\n    var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n    var msg = \"You provided \" + value + \" where a stream was expected.\" + ' You can provide an Observable, Promise, Array, or Iterable.';\n    destination.error(new TypeError(msg));\n  }\n  return null;\n}\nexports.subscribeToResult = subscribeToResult;","map":{"version":3,"names":["root_1","require","isArrayLike_1","isPromise_1","isObject_1","Observable_1","iterator_1","InnerSubscriber_1","observable_1","subscribeToResult","outerSubscriber","result","outerValue","outerIndex","destination","InnerSubscriber","closed","Observable","_isScalar","next","value","complete","syncErrorThrowable","subscribe","isArrayLike","i","len","length","isPromise","then","err","error","root","setTimeout","iterator","item","done","observable","obs","TypeError","isObject","msg","exports"],"sources":["C:/Users/Montg/Documents/Final Year/APDS/POE/POE/node_modules/rxjs/util/subscribeToResult.js"],"sourcesContent":["\"use strict\";\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}